// Code generated by avro/gen. DO NOT EDIT.
{{- if len .PackageDoc }}
// {{ replace .PackageDoc "\n" "\n// " -1 }}
{{- end }}
package {{ .PackageName }}

{{- $encoders := .WithEncoders }}
{{ if len .Imports }}
	import (
	{{- range .Imports }}
		"{{ . }}"
	{{- end }}
	)
{{ end }}

{{- if .Metadata }}
const (
	subject = "{{ .Metadata.Subject }}"
	version = {{ .Metadata.Version }}
)
{{- end }}

{{- range .Typedefs }}
	{{- if len .Doc }}
	// {{ replace .Doc "\n" "\n// " -1 }}
	{{- else }}
	// {{ .Name }} is a generated struct.
	{{- end }}	
	type {{ .Name }} struct {
	{{- range .Fields }}
		{{- $f := . }}
		{{- if len $f.Doc }}
		// {{ replace $f.Doc "\n" "\n// " -1 }}
		{{- end }}
		{{ .Name }} {{ .Type }} `avro:"{{ $f.AvroFieldName }}"
		{{- range $tag, $style := .Tags }}
			{{- " "}}{{ $tag }}:"
			{{- if eq $style "kebab" }}{{ kebab $f.AvroFieldName }}
			{{- else if eq $style "upper-camel"}}{{ upperCamel $f.AvroFieldName }}
			{{- else if eq $style "camel"}}{{ camel $f.AvroFieldName }}
			{{- else if eq $style "snake"}}{{ snake $f.AvroFieldName }}
			{{- else}}{{ $f.AvroFieldName }}
			{{- end}}"
		{{- end }}`
	{{- end }}
	}

	{{- if $encoders }}
		var schema{{ .Name }} = avro.MustParse(`{{ .Schema }}`)

		// Schema returns the schema for {{ .Name }}.
		func (o *{{ .Name }}) Schema() avro.Schema {
		return schema{{ .Name }}
		}

		// Unmarshal decodes b into the receiver.
		func (o *{{ .Name }}) Unmarshal(b []byte) error {
		return avro.Unmarshal(o.Schema(), b, o)
		}

		// Marshal encodes the receiver.
		func (o *{{ .Name }}) Marshal() ([]byte, error) {
		return avro.Marshal(o.Schema(), o)
		}
	{{- end }}
{{ end }}
